{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zilong.zhou/Desktop/小程序/question-bank/question-bank-mini/pages/question/answer.vue?374e","webpack:////Users/zilong.zhou/Desktop/小程序/question-bank/question-bank-mini/pages/question/answer.vue?fbb4","webpack:////Users/zilong.zhou/Desktop/小程序/question-bank/question-bank-mini/pages/question/answer.vue?f1f8","webpack:////Users/zilong.zhou/Desktop/小程序/question-bank/question-bank-mini/pages/question/answer.vue?585f","uni-app:///pages/question/answer.vue","webpack:////Users/zilong.zhou/Desktop/小程序/question-bank/question-bank-mini/pages/question/answer.vue?66d9","webpack:////Users/zilong.zhou/Desktop/小程序/question-bank/question-bank-mini/pages/question/answer.vue?f2f8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;AAE2D;AAC3D;AACA,kG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7HA;AAAA;AAAA;AAAA;AAAm1B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyOv2B,wF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA,EACA,IADA,kBACA,CACA,SACA,gBADA,EAEA,iBAFA,EAGA,qBAHA,EAIA,WAJA,EAKA,WALA,EAKA;AACA,0BANA,EAOA,gBAPA,EAOA;AACA,qBARA,EAQA;AACA,qBATA,EASA;AACA,0BAVA,EAUA;AACA,yBAXA,EAWA;AACA,2BAZA,EAYA;AACA,eAbA,EAcA,eAdA,EAeA,eAfA,EAeA;AACA,sBAhBA,EAgBA;AACA,sEAjBA,EAkBA,eAlBA,EAmBA,eAnBA,EAoBA,wBApBA,EAqBA,kBArBA,GAuBA,CAzBA,EA0BA,OA1BA,qBA0BA,CAEA,qBACA,eACA,oBACA;AACA,sCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCACA,oCAEA,sDACA,UADA,EAEA,kBAFA,IAGA,iBACA,0BACA,sCAEA,uDACA,UADA,EAEA,kBAFA,IAGA,iBACA,0BACA,sCACA,qCACA,0CACA,CARA,EAQA,IARA,GAUA,CAjBA,EAiBA,IAjBA,GAkBA,CAhCA,IAmCA,CAjEA,EAkEA,MAlEA,kBAkEA,OAlEA,EAkEA,CACA,4BACA,iBADA,IAGA,0BACA,wBACA,CAEA,mBAEA,4CACA,mDAEA,+BALA,CAMA;AACA;AACA;AACA;AACA;AACA,qBACA,oCACA,iCACA,mBADA,EAEA,gBAFA,KAIA,CALA,EAOA,8CACA,yBACA,gDACA,+CACA,mDACA,sCACA,kCACA,2CACA,0BACA,CAHA,MAGA,yBACA,qBACA,0BACA,CAHA,MAGA,CACA,2BACA,CACA,CACA,CA7GA,EA8GA,WACA,QADA,sBACA,CACA,6BACA,CAHA,EAIA,QAJA,sBAIA,CACA,6BACA,CANA,EAOA,0CACA,gDACA,CATA,EAUA,0CACA,sBACA,CAZA,EAaA,4CACA;AACA,uBACA,sEADA,IAGA,CAlBA,EAmBA,4CACA,uBACA,CArBA,EAsBA;AAEA,mCAEA,yBACA,0BACA,oDACA,mDACA,uDACA,+CACA,0CACA,wCACA,yCACA,6CACA,0BACA,CAHA,MAGA,yBACA,qBACA,0BACA,CAHA,MAGA,CACA,2BACA,CACA,CACA,CA5CA,EA6CA;AAEA,8DACA,4BACA,oBACA,wDACA,2DACA;AACA,oFACA,uBACA,EACA,CALA,MAKA,CACA;AACA,gCACA,CACA,CA5DA,EA6DA;AAEA,8DACA,4BACA,oDACA,qDACA,sDACA,gCAEA,+DACA,MACA,CACA,CACA,CACA,CA3EA,EA4EA;AACA,sEACA,CA9EA,EA+EA;AAEA,2DACA,uDACA,CAFA,MAEA,CAEA,sDACA,CACA,CAvFA,EAwFA,YAxFA,0BAwFA,CACA,mBACA,iBACA,6DADA,IAGA,CA7FA,EA8FA;AACA,6BACA,+BACA,sBACA,OACA,CACA,+BACA,gDACA,mDAEA,qBACA,qCACA,CAFA,MAEA,CACA,oCACA,CAEA,CA9GA,EA+GA,OA/GA,mBA+GA,QA/GA,EA+GA,KA/GA,EA+GA,SA/GA,EA+GA,kBACA,6BACA,iDACA,4CACA,yCACA,gDACA,0CACA,gBACA,qCACA,uBADA,EAEA,qBAFA,EAGA,8BAHA,EAIA,wBAJA,IAKA,IALA,CAKA,gBACA,kEACA,uBACA,uDACA,CATA,EASA,KATA,CASA,cACA,oCACA,CAXA,EAYA,CAbA,MAaA,CACA,uCACA,uBADA,EAEA,qBAFA,IAGA,MAHA,GAGA,IAHA,CAGA,gBACA,kEACA,wBACA,wDACA,CAPA,EAOA,KAPA,CAOA,cACA,oCACA,CATA,EAUA,CACA,CA/IA,EAiJA;AAEA,+CACA,uBACA,CACA,iEACA;AACA;AACA,KAzJA;;AA2JA;;AAEA;AACA;AACA,KA/JA;;AAiKA;;AAEA;AACA,KApKA;;AAsKA,QAtKA,kBAsKA;AACA;AACA,KAxKA;AAyKA,SAzKA,mBAyKA;AACA;AACA;AACA,KA5KA;AA6KA;AACA,UA9KA,oBA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KA/LA;AAgMA,iBAhMA,2BAgMA;AACA;AACA;AACA,KAnMA;AAoMA,kBApMA,4BAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvNA;AAwNA;AACA,kBAzNA,4BAyNA;AACA;AACA;AACA;AACA,KA7NA;AA8NA;AACA,kBA/NA,4BA+NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,gCAFA;AAGA,yCAHA;AAIA,mCAJA;;AAMA;AACA;AACA,OAVA;AAWA;;AAEA;AACA;AACA,2BADA;AAEA;AACA,8CADA;AAEA,8BAFA,EAFA;;AAMA,eANA,mBAMA,GANA,EAMA;AACA;AACA;AACA;AACA;AACA,SAXA;AAYA,YAZA,gBAYA,CAZA,EAYA;AACA;AACA,SAdA;;AAgBA,KAtQA;AAuQA,gBAvQA,0BAuQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAtRA;AAuRA,gBAvRA,wBAuRA,QAvRA,EAuRA,KAvRA,EAuRA,SAvRA,EAuRA;AACA;AACA;AACA;AACA,iCADA;AAEA,+BAFA;AAGA,wCAHA;AAIA,kCAJA;AAKA,YALA,CAKA;AACA;AACA;AACA;AACA,SATA,EASA,KATA,CASA;AACA;AACA,SAXA;AAYA,OAbA,MAaA;AACA;AACA,iCADA;AAEA,+BAFA;AAGA,cAHA,GAGA,IAHA,CAGA;AACA;AACA;AACA;AACA,SAPA,EAOA,KAPA,CAOA;AACA;AACA,SATA;AAUA;AACA,KAlTA;AAmTA;AACA,UApTA,oBAoTA;AACA;AACA,KAtTA,EA9GA,E;;;;;;;;;;;;;AC7OA;AAAA;AAAA;AAAA;AAAssC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACA1tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/question/answer.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/question/answer.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./answer.vue?vue&type=template&id=29ffa31e&\"\nvar renderjs\nimport script from \"./answer.vue?vue&type=script&lang=js&\"\nexport * from \"./answer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./answer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/question/answer.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./answer.vue?vue&type=template&id=29ffa31e&\"","var components\ntry {\n  components = {\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-modal/u-modal\" */ \"@/uni_modules/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uText: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-text/u-text\" */ \"@/uni_modules/uview-ui/components/u-text/u-text.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = _vm.__map(_vm.subjectList, function(subject, index) {\n    var $orig = _vm.__get_orig(subject)\n\n    var l0 =\n      index - _vm.subjectIndex >= -1 &&\n      index - _vm.subjectIndex <= 1 &&\n      (subject.type === 0 ||\n        subject.type === 1 ||\n        subject.type === 3 ||\n        subject.type === 6 ||\n        subject.type === 7)\n        ? _vm.__map(subject.options, function(option, __i1__) {\n            var $orig = _vm.__get_orig(option)\n\n            var g0 = subject.userAnswer.indexOf(option.key)\n            return {\n              $orig: $orig,\n              g0: g0\n            }\n          })\n        : null\n    var l1 =\n      index - _vm.subjectIndex >= -1 &&\n      index - _vm.subjectIndex <= 1 &&\n      !(\n        subject.type === 0 ||\n        subject.type === 1 ||\n        subject.type === 3 ||\n        subject.type === 6 ||\n        subject.type === 7\n      ) &&\n      subject.type === 2\n        ? _vm.__map(subject.options, function(option, __i2__) {\n            var $orig = _vm.__get_orig(option)\n\n            var g1 = subject.userAnswer.indexOf(option.key)\n            var g2 = subject.userAnswer.indexOf(option.key)\n            return {\n              $orig: $orig,\n              g1: g1,\n              g2: g2\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      l0: l0,\n      l1: l1\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.show = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.modalShow = false\n    }\n\n    _vm.e2 = function($event) {\n      _vm.submitShow = false\n    }\n\n    _vm.e3 = function($event) {\n      _vm.submitShow = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./answer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./answer.vue?vue&type=script&lang=js&\"","<!-- 0 判断题\r\n1 选择题\r\n2 多选题\r\n3 阅读选择题 阅读理解\r\n4 填空题\r\n5 简答题 辨析题 文言文 论述题 现代文阅读 写作题\r\n6 日常对话题\r\n7 完形填空题 -->\r\n<template>\r\n\t<view>\r\n\t\t<view id=\"top-box\" class=\"cu-bar bg-white solid-bottom\">\r\n\t\t\t<view class=\"action text-black\">\r\n\t\t\t\t<text>{{ currentType }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<view class=\"padding-right-sm\" v-if=\"isShowArticle\">\r\n\t\t\t\t\t<u-button text=\"显示文章\" size=\"mini\" plain shape=\"circle\" type=\"success\" @click=\"show = true\">\r\n\t\t\t\t\t</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"cu-btn bg-green shadow\" @tap=\"showCardModal\" data-target=\"modalCard\">答题卡</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-modal\" :class=\"modalCard=='modalCard'?'show':''\" @tap=\"hideCardModal\">\r\n\t\t\t<view class=\"cu-dialog\" @tap.stop>\r\n\r\n\t\t\t\t<scroll-view class=\"page padding\" :scroll-y=true :style=\"{'height':swiperHeight}\">\r\n\t\t\t\t\t<view class=\"cu-bar solid-bottom\">\r\n\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\"></text>答题卡\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-green shadow\" @tap=\"submit\" data-target=\"modalCard\">交卷</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"grid col-5 \">\r\n\t\t\t\t\t\t<view class=\"margin-tb-sm text-center\" v-for=\"(subject,index) in subjectList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<button v-if=\"subject.userAnswer.length===0\" class=\"cu-btn round line-grey\"\r\n\t\t\t\t\t\t\t\t@click=\"AppointedSubject(index)\">{{index+1}}</button>\r\n\t\t\t\t\t\t\t<button v-if=\"subject.userAnswer.length!=0\" class=\"cu-btn round\"\r\n\t\t\t\t\t\t\t\t:class=\"[subject.userAnswer==subject.answer?'bg-green':'bg-red']\"\r\n\t\t\t\t\t\t\t\t@click=\"AppointedSubject(index)\">{{index+1}}</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-modal padding \" :class=\"modalError=='modalError'?'show':''\" @tap=\"hideErrorModal\">\r\n\t\t\t<view class=\"cu-dialog bg-white\" @tap.stop>\r\n\r\n\t\t\t\t<view class=\"cu-bar solid-bottom \">\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-title text-red\"></text>试题纠错\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<radio-group class=\"block\">\r\n\t\t\t\t\t<view class=\"cu-list menu text-left\">\r\n\t\t\t\t\t\t<view class=\"cu-item cu-item-error\" v-for=\"error in errorList\">\r\n\t\t\t\t\t\t\t<radio :value=\"error\"></radio>\r\n\t\t\t\t\t\t\t<view class=\"title text-black margin-left\">{{error}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</radio-group>\r\n\r\n\t\t\t\t<view class=\"padding flex flex-direction \">\r\n\t\t\t\t\t<button class=\"cu-btn bg-red margin-tb-sm lg\" @click=\"SubmitError\">提 交</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<form>\r\n\t\t\t<swiper :current=\"subjectIndex\" class=\"swiper-box\" @change=\"SwiperChange\" :style=\"{'height':swiperHeight}\">\r\n\t\t\t\t<swiper-item v-for=\"(subject,index) in subjectList\">\r\n\t\t\t\t\t<view v-if=\"index-subjectIndex>=-1&&index-subjectIndex<=1\">\r\n\t\t\t\t\t\t<view class=\"cu-bar bg-white solid-bottom\">\r\n\t\t\t\t\t\t\t<view class=\"action text-black\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\"></text>\r\n\t\t\t\t\t\t\t\t<view v-if=\"subject.type !== 6 && subject.title.length <= 500\">\r\n\t\t\t\t\t\t\t\t\t{{ index + 1 + \".\"  + subject.title }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else-if=\"subject.type === 6\">\r\n\t\t\t\t\t\t\t\t\t第{{ subject.No }}题\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else-if=\"subject.title.length > 500\">\r\n\t\t\t\t\t\t\t\t\t第{{ index + 1 }}题\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<!-- 单选 -->\r\n\t\t\t\t\t\t\t<radio-group class=\"block\" @change=\"RadioboxChange\"\r\n\t\t\t\t\t\t\t\tv-if=\"subject.type===0 || subject.type===1 || subject.type===3 || subject.type===6 || subject.type===7\">\r\n\t\t\t\t\t\t\t\t<label class=\"cu-form-group\" v-for=\"option in subject.options\" :key=\"option.key\">\r\n\t\t\t\t\t\t\t\t\t<radio :value=\"option.key\"\r\n\t\t\t\t\t\t\t\t\t\t:checked=\"subject.userAnswer.indexOf(option.key) > -1?true:false\"></radio>\r\n\t\t\t\t\t\t\t\t\t<view class=\"title text-black\" v-if=\"subject.typeName != '发音题'\">\r\n\t\t\t\t\t\t\t\t\t\t{{option.key}}.{{option.value}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"title text-black\" v-if=\"subject.typeName == '发音题'\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{option.key}}.\r\n\t\t\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"option.value\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</radio-group>\r\n\t\t\t\t\t\t\t<!-- 多选 -->\r\n\t\t\t\t\t\t\t<checkbox-group class=\"block\" @change=\"CheckboxChange\" v-else-if=\"subject.type===2\">\r\n\t\t\t\t\t\t\t\t<label class=\"cu-form-group\" v-for=\"option in subject.options\">\r\n\t\t\t\t\t\t\t\t\t<checkbox :value=\"option.key\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"subject.userAnswer.indexOf(option.key) > -1?'checked':''\"\r\n\t\t\t\t\t\t\t\t\t\t:checked=\"subject.userAnswer.indexOf(option.key) > -1?true:false\"></checkbox>\r\n\t\t\t\t\t\t\t\t\t<view class=\"title  text-black\">{{option.key}}.{{option.value}}</view>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</checkbox-group>\r\n\r\n\t\t\t\t\t\t\t<view v-else-if=\"subject.type===4\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group solid-bottom\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"title  text-black\">\r\n\t\t\t\t\t\t\t\t\t\t答：\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<input placeholder=\"文本输入框\" name=\"input\" v-model=\"subject.userAnswer\"\r\n\t\t\t\t\t\t\t\t\t\t@blur=\"textInput\"></input>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view v-else-if=\"subject.type===5\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-bar cu-bar-title bg-white margin-top\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"action  text-black\">\r\n\t\t\t\t\t\t\t\t\t\t答：\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group solid margin\">\r\n\t\t\t\t\t\t\t\t\t<textarea maxlength=\"-1\" @blur=\"textInput\" v-model=\"subject.userAnswer\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"多行文本输入框\"></textarea>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view v-show=\"subject.showAnswer\" class=\"margin-top solid-top\">\r\n\t\t\t\t\t\t\t<view class=\"cu-bar\">\r\n\t\t\t\t\t\t\t\t<view class=\"action  text-grey\">\r\n\t\t\t\t\t\t\t\t\t<text>正确答案：</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"solid-bottom  padding-left text-green\">{{subject.answer}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cu-bar cu-bar-title\" v-if=\"subject.parsing\">\r\n\t\t\t\t\t\t\t\t<view class=\"action  text-grey\">\r\n\t\t\t\t\t\t\t\t\t<text>解析：</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text-content padding  text-grey\" v-if=\"subject.parsing\">\r\n\t\t\t\t\t\t\t\t{{subject.parsing}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</form>\r\n\t\t<view id=\"foot-box\" class=\"cu-bar tabbar bg-white shadow foot\">\r\n\t\t\t<view class=\"action\" @click=\"MoveSubject(-1)\">\r\n\t\t\t\t<view class=\"cuIcon-cu-image\">\r\n\t\t\t\t\t<text class=\"lg cuIcon-back text-gray\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-gray\">上一题</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\" @click=\"MoveSubject(1)\">\r\n\t\t\t\t<view class=\"cuIcon-cu-image\">\r\n\t\t\t\t\t<text class=\"lg text-gray cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-gray\">下一题</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"!isUserWrong\" class=\"action\" @click=\"FavorSubject\">\r\n\t\t\t\t<view class=\"cuIcon-cu-image\">\r\n\t\t\t\t\t<text class=\"lg cuIcon-favor\" :class=\"[userFavor?'text-red':'text-gray']\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view :class=\"[userFavor?'text-red':'text-gray']\">收藏</view>\r\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-else class=\"action\" @click=\"wrongSubject\">\n\t\t\t\t<view class=\"cuIcon-cu-image\">\n\t\t\t\t\t<text class=\"lg cuIcon-favor\" :class=\"[isUserWrong?'text-red':'text-gray']\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view :class=\"[isUserWrong?'text-red':'text-gray']\">错题</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t\r\n\r\n\t\t\t<view class=\"action\" @click=\"ShowAnswerChange\">\r\n\t\t\t\t<view class=\"cuIcon-cu-image\">\r\n\t\t\t\t\t<text class=\"lg text-gray cuIcon-question\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-gray\">解答</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\" @tap=\"showErrorModal\" data-target=\"modalError\">\r\n\t\t\t\t<view class=\"cuIcon-cu-image\">\r\n\t\t\t\t\t<text class=\"lg text-gray cuIcon-warn\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-gray\">纠错</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup :show=\"show\" mode=\"bottom\" @close=\"close\" @open=\"open\">\r\n\t\t\t<view class=\"padding-sm\">\r\n\t\t\t\t<text>{{ article }}</text>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<u-modal :show=\"modalShow\" :title='modelTitle' showCancelButton=\"true\" confirmText=\"去登录\"\r\n\t\t\t@cancel=\"modalShow=false\" @confirm=\"modalConfirm\"></u-modal>\r\n\t\t<u-modal :show=\"submitShow\" title='您还有未完成的题目,是否提交？' showCancelButton=\"true\" @cancel=\"submitShow=false\"\r\n\t\t\t@confirm=\"submitConfirm\"></u-modal>\r\n\t\t<u-popup :show=\"conclusionShow\" mode=\"center\" :round=\"10\" @close=\"submitShow=false\">\r\n\t\t\t<view class=\"conclusion-content\">\n\t\t\t\t<view class=\"conclusion-content-title\">\n\t\t\t\t\t<text>共答对:<text style=\"color: #5ac725;\">{{ correctCount }}</text>题, 答错:<text style=\"color: #f56c6c;\">{{ wrongTopics.length }}</text>题, 总共:<text style=\"color: #3c9cff;\">{{ subjectList.length }}</text>题</text>\n\t\t\t\t</view>\n\t\t\t\t<u-text text=\"(注意：简答题无法统计, 只要回答都会统计为正确)\" type=\"info\"></u-text>\n\t\t\t\t<view class=\"\" style=\"margin-top: 40rpx\">\n\t\t\t\t\t<u-button type=\"primary\" text=\"错题再战\" @click=\"wrongTopicNext\"></u-button>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"\" style=\"margin-top: 20rpx\">\n\t\t\t\t\t<u-button type=\"primary\" text=\"保存到错题集\" @click=\"saveWrongTopic\"></u-button>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"\" style=\"margin-top: 20rpx\">\n\t\t\t\t\t<u-button type=\"primary\" text=\"休息一会\" @click=\"toBack\"></u-button>\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tstore,\r\n\t\tmutations\r\n\t} from '@/uni_modules/uni-id-pages/common/store.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmodalShow: false,\r\n\t\t\t\tsubmitShow: false,\r\n\t\t\t\tconclusionShow: false,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tarticle: \"\", // 文章\r\n\t\t\t\tisShowArticle: false,\r\n\t\t\t\tuserFavor: false, //是否已收藏\r\n\t\t\t\tcurrentType: \"\", //当前题型\r\n\t\t\t\tsubjectIndex: 0, //跳转索引\r\n\t\t\t\tautoShowAnswer: true, //答错是否显答案\r\n\t\t\t\tautoRadioNext: true, //判断题、单项题，自动移下一题\r\n\t\t\t\tswiperHeight: '800px', //\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tsubjectList: [],\r\n\t\t\t\tmodalCard: null, //显示答题卡\r\n\t\t\t\tmodalError: null, //纠错卡\r\n\t\t\t\terrorList: ['题目不完整', '答案不正确', '含有错别字', '图片不存在', '解析不完整', '其他错误'],\n\t\t\t\tcorrectCount: 0,\n\t\t\t\twrongTopics: [],\n\t\t\t\tmodelTitle: \"请登录后再收藏题目吧\",\n\t\t\t\tisUserWrong: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\r\n\t\t\tvar tempHeight = 800;\r\n\t\t\tvar _me = this;\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\t//获取手机屏幕高度信息，让swiper的高度和手机屏幕一样高                \r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t// console.log(res.model);                    \r\n\t\t\t\t\t// console.log(res.pixelRatio);                    \r\n\t\t\t\t\t// console.log(res.windowWidth);                    \r\n\t\t\t\t\t// console.log(res.windowHeight);\r\n\t\t\t\t\t// //这里是手机屏幕高度                    \r\n\t\t\t\t\t// console.log(res.language);                    \r\n\t\t\t\t\t// console.log(res.version);                    \r\n\t\t\t\t\t// console.log(res.platform);                    \r\n\t\t\t\t\ttempHeight = res.windowHeight;\r\n\t\t\t\t\tconsole.log(\"屏幕可用高度 \" + tempHeight);\r\n\r\n\t\t\t\t\tuni.createSelectorQuery().select(\"#top-box\").fields({\r\n\t\t\t\t\t\tsize: true,\r\n\t\t\t\t\t\tscrollOffset: true\r\n\t\t\t\t\t}, (data) => {\r\n\t\t\t\t\t\ttempHeight -= data.height;\r\n\t\t\t\t\t\tconsole.log(\"减掉顶部后的高度 \" + tempHeight);\r\n\r\n\t\t\t\t\t\tuni.createSelectorQuery().select(\"#foot-box\").fields({\r\n\t\t\t\t\t\t\tsize: true,\r\n\t\t\t\t\t\t\tscrollOffset: true\r\n\t\t\t\t\t\t}, (data) => {\r\n\t\t\t\t\t\t\ttempHeight -= data.height;\r\n\t\t\t\t\t\t\tconsole.log(\"减掉底部后的高度 \" + tempHeight);\r\n\t\t\t\t\t\t\t_me.swiperHeight = tempHeight + 'px';\r\n\t\t\t\t\t\t\tconsole.log(\"滑屏最后高度 \" + _me.swiperHeight);\r\n\t\t\t\t\t\t}).exec();\r\n\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: this.title\r\n\t\t\t});\n\t\t\tif (options.isUserWrong) {\n\t\t\t\tthis.isUserWrong = true\n\t\t\t}\n\t\t\t\r\n\t\t\tif (options.json) {\r\n\r\n\t\t\t\tlet json = decodeURIComponent(options.json)\r\n\t\t\t\tconsole.log(\"options.json:\", JSON.stringify(json));\r\n\r\n\t\t\t\tvar details = JSON.parse(json);\r\n\t\t\t\t//添加用户显示答案字段\r\n\t\t\t\t// for (var i = 0; i < details.length; i++) {\r\n\t\t\t\t// \t// this.$set(details[i], \"showAnswer\", false);\r\n\t\t\t\t// \tdetails[i].showAnswer = false;\r\n\t\t\t\t// }\r\n\t\t\t\tvar temps = []\r\n\t\t\t\tdetails.map((item, index) => {\r\n\t\t\t\t\ttemps.push(Object.assign(item, {\r\n\t\t\t\t\t\t\"showAnswer\": false,\r\n\t\t\t\t\t\t\"userAnswer\": \"\"\r\n\t\t\t\t\t}))\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconsole.log(\"detail:\", JSON.stringify(temps));\r\n\t\t\t\tthis.subjectList = temps;\r\n\t\t\t\tthis.currentType = this.subjectList[0].typeName;\r\n\t\t\t\tthis.userFavor = this.subjectList[0].userFavor;\n\t\t\t\tthis.isUserWrong = this.subjectList[0].isUserWrong;\r\n\t\t\t\tlet title = this.subjectList[0].title;\r\n\t\t\t\tif (this.subjectList[0].article) {\r\n\t\t\t\t\tthis.article = this.subjectList[0].article;\r\n\t\t\t\t\tthis.isShowArticle = true;\r\n\t\t\t\t} else if (title.length > 500) {\r\n\t\t\t\t\tthis.article = title;\r\n\t\t\t\t\tthis.isShowArticle = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isShowArticle = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tuserInfo() {\r\n\t\t\t\treturn store.userInfo\r\n\t\t\t},\r\n\t\t\thasLogin() {\r\n\t\t\t\treturn store.hasLogin\r\n\t\t\t},\r\n\t\t\tshowCardModal: function(e) {\r\n\t\t\t\tthis.modalCard = e.currentTarget.dataset.target\r\n\t\t\t},\r\n\t\t\thideCardModal: function(e) {\r\n\t\t\t\tthis.modalCard = null\r\n\t\t\t},\r\n\t\t\tshowErrorModal: function(e) {\r\n\t\t\t\t// this.modalError = e.currentTarget.dataset.target\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/uni_modules/uni-feedback/pages/opendb-feedback/opendb-feedback'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thideErrorModal: function(e) {\r\n\t\t\t\tthis.modalError = null\r\n\t\t\t},\r\n\t\t\tSwiperChange: function(e) { //滑动事件\r\n\r\n\t\t\t\tlet index = e.target.current;\r\n\r\n\t\t\t\tif (index != undefined) {\r\n\t\t\t\t\tthis.subjectIndex = index;\r\n\t\t\t\t\tthis.currentType = this.subjectList[index].typeName;\r\n\t\t\t\t\tthis.userFavor = this.subjectList[index].userFavor;\n\t\t\t\t\tthis.isUserWrong = this.subjectList[index].isUserWrong;\r\n\t\t\t\t\tthis.article = this.subjectList[index].article;\r\n\t\t\t\t\tlet title = this.subjectList[index].title;\r\n\t\t\t\t\tconsole.log(\"titleCount\", title.length)\r\n\t\t\t\t\tif (this.subjectList[index].type === 6) {\r\n\t\t\t\t\t\tthis.article = this.subjectList[index].title;\r\n\t\t\t\t\t\tthis.isShowArticle = true;\r\n\t\t\t\t\t} else if (title.length > 500) {\r\n\t\t\t\t\t\tthis.article = title;\r\n\t\t\t\t\t\tthis.isShowArticle = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isShowArticle = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRadioboxChange: function(e) { //单选选中\r\n\r\n\t\t\t\tvar items = this.subjectList[this.subjectIndex].options;\r\n\t\t\t\tvar values = e.detail.value;\r\n\t\t\t\tconsole.log(values);\r\n\t\t\t\tthis.subjectList[this.subjectIndex].userAnswer = values;\r\n\t\t\t\tif (values == this.subjectList[this.subjectIndex].answer) {\r\n\t\t\t\t\t// 答对切换到下一题\r\n\t\t\t\t\tif (this.autoRadioNext && this.subjectIndex < this.subjectList.length - 1) {\r\n\t\t\t\t\t\tthis.subjectIndex += 1;\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 答错显示答案\r\n\t\t\t\t\tthis.ShowAnswerChange()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tCheckboxChange: function(e) { //复选选中\r\n\r\n\t\t\t\tvar items = this.subjectList[this.subjectIndex].options;\r\n\t\t\t\tvar values = e.detail.value;\r\n\t\t\t\tthis.subjectList[this.subjectIndex].userAnswer = \"\";\r\n\t\t\t\tfor (var i = 0, lenI = items.length; i < lenI; ++i) {\r\n\t\t\t\t\tfor (var j = 0, lenJ = values.length; j < lenJ; ++j) {\r\n\t\t\t\t\t\tif (items[i].key == values[j]) {\r\n\r\n\t\t\t\t\t\t\tthis.subjectList[this.subjectIndex].userAnswer += items[i].key;\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttextInput: function(e) { //填空题\r\n\t\t\t\tthis.subjectList[this.subjectIndex].userAnswer = e.detail.value;\r\n\t\t\t},\r\n\t\t\tShowAnswerChange: function(e) { //显示答案\r\n\r\n\t\t\t\tif (this.subjectList[this.subjectIndex].showAnswer) {\r\n\t\t\t\t\tthis.subjectList[this.subjectIndex].showAnswer = false;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.subjectList[this.subjectIndex].showAnswer = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmodalConfirm() {\r\n\t\t\t\tconsole.log(\"去登录\")\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/uni_modules/uni-id-pages/pages/login/login-withoutpwd',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tFavorSubject: function(e) { //收藏题\r\n\t\t\t\tif (!this.hasLogin()) {\n\t\t\t\t\tthis.modelTitle = \"请登录后再收藏题目吧\"\r\n\t\t\t\t\tthis.modalShow = true\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet userInfo = this.userInfo()\r\n\t\t\t\tlet topic = this.subjectList[this.subjectIndex]\r\n\t\t\t\tconsole.log(\"userInfo:\", JSON.stringify(userInfo))\r\n\r\n\t\t\t\tif (this.userFavor) {\r\n\t\t\t\t\tthis.collect(userInfo, topic, false)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.collect(userInfo, topic, true)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tcollect(userInfo, topic, isCollect) {\r\n\t\t\t\tconst db = uniCloud.database();\r\n\t\t\t\tconsole.log(\"开始请求topic-collect：\", this.paper_id);\r\n\t\t\t\tconsole.log(\"topic-collect:\", userInfo._id)\r\n\t\t\t\tconsole.log(\"topic-collect:\", topic._id)\r\n\t\t\t\tconsole.log(\"topic-collect:\", topic.paper_type)\r\n\t\t\t\tconsole.log(\"topic-collect:\", topic.type)\r\n\t\t\t\tif (isCollect) {\r\n\t\t\t\t\tdb.collection(\"topic-collect\").add({\r\n\t\t\t\t\t\t\"user_id\": userInfo._id,\r\n\t\t\t\t\t\t\"topic_id\": topic._id,\r\n\t\t\t\t\t\t\"paper_type\": topic.paper_type,\r\n\t\t\t\t\t\t\"topic_type\": topic.type\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tconsole.log(\"获取topic-collect成功\", JSON.stringify(res.result.data));\r\n\t\t\t\t\t\tthis.userFavor = true;\r\n\t\t\t\t\t\tthis.subjectList[this.subjectIndex].userFavor = true;\r\n\t\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\t\tconsole.log(\"获取topic-collect失败\", e);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdb.collection(\"topic-collect\").where({\r\n\t\t\t\t\t\t\"user_id\": userInfo._id,\r\n\t\t\t\t\t\t\"topic_id\": topic._id\r\n\t\t\t\t\t}).remove().then((res) => {\r\n\t\t\t\t\t\tconsole.log(\"获取topic-collect成功\", JSON.stringify(res.result.data));\r\n\t\t\t\t\t\tthis.userFavor = false;\r\n\t\t\t\t\t\tthis.subjectList[this.subjectIndex].userFavor = false;\r\n\t\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\t\tconsole.log(\"获取topic-collect失败\", e);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tMoveSubject: function(e) { //上一题、下一题\r\n\r\n\t\t\t\tif (e === -1 && this.subjectIndex != 0) {\r\n\t\t\t\t\tthis.subjectIndex -= 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (e === 1 && this.subjectIndex < this.subjectList.length - 1) {\r\n\t\t\t\t\tthis.subjectIndex += 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tAppointedSubject: function(e) { //题卡指定\r\n\r\n\t\t\t\tthis.modalCard = null;\r\n\t\t\t\tthis.subjectIndex = e;\r\n\t\t\t},\r\n\r\n\t\t\tSubmitError: function(e) { //提交纠错\r\n\r\n\t\t\t\tthis.modalError = null;\r\n\t\t\t},\r\n\r\n\t\t\topen() {\r\n\t\t\t\t// console.log('open');\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t\t// console.log('close');\r\n\t\t\t},\r\n\t\t\t// 交卷\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.modalCard = null;\r\n\t\t\t\tvar isDone = true\r\n\t\t\t\tfor (var i = 0; i < this.subjectList.length; i++) {\r\n\t\t\t\t\tlet item = this.subjectList[i]\r\n\t\t\t\t\tif (item.userAnswer === \"\") {\r\n\t\t\t\t\t\tisDone = false\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (isDone) {\r\n\t\t\t\t\t// 全部完成\r\n\t\t\t\t\tthis.showConclusion()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 还有未完成\r\n\t\t\t\t\tthis.submitShow = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmitConfirm() {\r\n\t\t\t\tthis.submitShow = false\r\n\t\t\t\tthis.showConclusion()\r\n\t\t\t},\r\n\t\t\tshowConclusion() {\r\n\t\t\t\tvar temps = []\n\t\t\t\tfor (var i = 0; i < this.subjectList.length; i++) {\n\t\t\t\t\tlet item = this.subjectList[i]\n\t\t\t\t\tconsole.log(\"item:\", item)\n\t\t\t\t\tif (item.answer == item.userAnswer) {\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tif (item.userAnswer === \"\") {\n\t\t\t\t\t\ttemps.push(item)\n\t\t\t\t\t} else if (item.type===0 || item.type===1 || item.type===3 || item.type===6 || item.type===7) {\n\t\t\t\t\t\titem.userAnswer = \"\"\n\t\t\t\t\t\titem.showAnswer = false\n\t\t\t\t\t\ttemps.push(item)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.wrongTopics = temps\n\t\t\t\tthis.correctCount = this.subjectList.length - this.wrongTopics.length\n\t\t\t\tthis.conclusionShow = true\r\n\t\t\t},\n\t\t\t// 错题再战\n\t\t\twrongTopicNext() {\n\t\t\t\tthis.subjectList = this.wrongTopics\n\t\t\t\tthis.subjectIndex = 0\n\t\t\t\tthis.conclusionShow = false\n\t\t\t},\n\t\t\t// 保存错题\n\t\t\tsaveWrongTopic() {\n\t\t\t\tif (!this.hasLogin()) {\n\t\t\t\t\tthis.modelTitle = \"请登录后再保存错题吧\"\n\t\t\t\t\tthis.conclusionShow = false\n\t\t\t\t\tthis.modalShow = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet userInfo = this.userInfo()\n\t\t\t\tvar temps = []\n\t\t\t\tthis.wrongTopics.map((item, index) => {\n\t\t\t\t\tif (item.type===0 || item.type===1 || item.type===3 || item.type===6 || item.type===7) {\n\t\t\t\t\t\tvar temp = {\n\t\t\t\t\t\t\t\"user_id\": userInfo._id,\n\t\t\t\t\t\t\t\"topic_id\": item._id,\n\t\t\t\t\t\t\t\"paper_type\": item.paper_type,\n\t\t\t\t\t\t\t\"topic_type\": item.type\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttemps.push(temp)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(\"temps\", temps)\n\t\t\t\t\n\t\t\t\tvar that = this;\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: \"wrong-topic\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"user_id\": store.userInfo._id,\n\t\t\t\t\t\t\"wrongTopics\": temps\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(res) {\t\t\t\t\t\t\n\t\t\t\t\t\t// console.log(\"openTest\", JSON.stringify(res.result.data))\n\t\t\t\t\t\tconsole.log(\"获取wrong-topic成功\", JSON.stringify(res.result.data));\n\t\t\t\t\t\tthat.conclusionShow = false\n\t\t\t\t\t\tthat.toBack()\n\t\t\t\t\t},\n\t\t\t\t\tfail(e) {\n\t\t\t\t\t\tconsole.log(\"获取wrong-topic失败\", e);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\twrongSubject() {\n\t\t\t\tif (!this.hasLogin()) {\n\t\t\t\t\tthis.modelTitle = \"请登录后再添加错题吧\"\n\t\t\t\t\tthis.modalShow = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet userInfo = this.userInfo()\n\t\t\t\tlet topic = this.subjectList[this.subjectIndex]\n\t\t\t\tconsole.log(\"userInfo:\", JSON.stringify(userInfo))\n\t\t\t\t\n\t\t\t\tif (this.isUserWrong) {\n\t\t\t\t\tthis.wrongCollect(userInfo, topic, false)\n\t\t\t\t} else {\n\t\t\t\t\tthis.wrongCollect(userInfo, topic, true)\n\t\t\t\t}\n\t\t\t},\n\t\t\twrongCollect(userInfo, topic, isCollect) {\n\t\t\t\tconst db = uniCloud.database();\n\t\t\t\tif (isCollect) {\n\t\t\t\t\tdb.collection(\"wrong-topic\").add({\n\t\t\t\t\t\t\"user_id\": userInfo._id,\n\t\t\t\t\t\t\"topic_id\": topic._id,\n\t\t\t\t\t\t\"paper_type\": topic.paper_type,\n\t\t\t\t\t\t\"topic_type\": topic.type\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tconsole.log(\"获取wrong-topic成功\", JSON.stringify(res.result.data));\n\t\t\t\t\t\tthis.isUserWrong = true;\n\t\t\t\t\t\tthis.subjectList[this.subjectIndex].isUserWrong = true;\n\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\tconsole.log(\"获取wrong-topic失败\", e);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdb.collection(\"wrong-topic\").where({\n\t\t\t\t\t\t\"user_id\": userInfo._id,\n\t\t\t\t\t\t\"topic_id\": topic._id\n\t\t\t\t\t}).remove().then((res) => {\n\t\t\t\t\t\tconsole.log(\"获取wrong-topic成功\", JSON.stringify(res.result.data));\n\t\t\t\t\t\tthis.isUserWrong = false;\n\t\t\t\t\t\tthis.subjectList[this.subjectIndex].isUserWrong = false;\n\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\tconsole.log(\"获取wrong-topic失败\", e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 返回\n\t\t\ttoBack() {\n\t\t\t\tuni.navigateBack()\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import \"../../colorui/animation.css\";\r\n\r\n\tpage {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.cu-form-group {\r\n\t\tjustify-content: flex-start\r\n\t}\r\n\r\n\t.cu-form-group .title {\r\n\t\tpadding-left: 30upx;\r\n\t\tpadding-right: 0upx;\r\n\t}\r\n\r\n\t.cu-form-group+.cu-form-group {\r\n\t\tborder-top: none;\r\n\t}\r\n\r\n\t.cu-bar-title {\r\n\t\tmin-height: 50upx;\r\n\t}\r\n\r\n\t.cu-list.menu>.cu-item-error {\r\n\t\tjustify-content: flex-start;\r\n\t}\n\t\n\t.conclusion-content {\n\t\tpadding: 40rpx 60rpx;\n\t}\n\t.conclusion-content-title {\n\t\tdisplay: flex;\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./answer.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./answer.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1667380065889\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}