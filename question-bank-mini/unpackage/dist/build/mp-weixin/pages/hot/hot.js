(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/hot/hot"],{2300:function(t,e,n){"use strict";n.r(e);var o=n("de3d"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},"689a":function(t,e,n){"use strict";var o=n("70cf"),i=n.n(o);i.a},"6b10":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}));var o={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"290a"))},uLine:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-line/u-line")]).then(n.bind(null,"9147"))}},i=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"70cf":function(t,e,n){},"929d":function(t,e,n){"use strict";(function(t){n("3870"),n("a9ff");o(n("66fd"));var e=o(n("e5b5"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},de3d:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("27c3"),c=t.database(),u=(c.command,{computed:{userInfo:function(){return i.store.userInfo}},data:function(){return{items:[],type:0,subjects:[]}},onLoad:function(t){this.initData(t)},methods:{initData:function(t){var e=JSON.parse(t.subjects);this.subjects=e,this.type=t.type,o.setNavigationBarTitle({title:0==this.type?"热门收藏":"热门错题"})},cellClick:function(t){var e=this;console.log("items:",JSON.stringify(t));var n=0==this.type?"topic-collect":"wrong-topic";c.collection(n).where({paper_type:t.paper_id}).groupBy("topic_id, paper_type").groupField("count(*) as count").orderBy("count desc").limit(50).get().then((function(t){if(console.log("获取topic-collect成功",JSON.stringify(t.result.data)),console.log("获取topic-collect成功",t.result.data),t.result.data.length>0){var n=[];t.result.data.map((function(t,e){n.push(t.topic_id)})),console.log("items:",n),e.getAnswer(n)}else o.showToast({title:"暂时还没有热门题目~",icon:"none",duration:2e3})})).catch((function(t){console.log("获取topic-collect失败",t)}))},getAnswer:function(e){t.callFunction({name:"hot-collect",data:{user_id:i.store.userInfo._id,items:e},success:function(t){if(console.log("collect-answer",JSON.stringify(t.result)),0!=t.result.data.length){var e=JSON.stringify(t.result.data),n=e.replace(/%/g,"%25");o.navigateTo({url:"/pages/question/answer?json="+encodeURIComponent(n)})}else o.showToast({title:"暂时还没有热门题目",icon:"none",duration:2e3})},fail:function(t){console.log("获取collect-answer失败:",t)}})}}});e.default=u}).call(this,n("a9ff")["default"],n("543d")["default"])},e5b5:function(t,e,n){"use strict";n.r(e);var o=n("6b10"),i=n("2300");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("689a");var u,a=n("f0c5"),l=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"2970be3c",null,!1,o["a"],u);e["default"]=l.exports}},[["929d","common/runtime","common/vendor"]]]);